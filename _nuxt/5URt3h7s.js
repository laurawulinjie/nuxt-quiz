import{d as _,r as h,I as C,k as b,v as o,x as s,y as r,J as Q,z as x,K as $,L as z,M as A,N as S,O as N,P as B,o as M,u as f,Q as D,R as v}from"./C6TQa4zg.js";import{u as F}from"./Bi4AdzTY.js";const L={class:"max-w-xl mx-auto bg-white rounded-2xl shadow-lg p-6 space-y-4"},V={key:0},j={class:"text-xl font-semibold text-gray-800 mb-2"},I=["id","type","name","value","disabled"],P=["for"],R={class:"flex flex-wrap gap-3 pt-4"},E=["disabled"],H=["disabled"],J={key:0,class:"text-sm text-gray-600 mt-2"},K={key:0},O={key:1},U={key:1},Y=_({__name:"QuizCard",props:{question:{}},emits:["answered","next"],setup(g,{emit:n}){const a=g,m=n,i=h(!1),t=h(a.question.type==="multiple"?[]:"");C(()=>a.question,()=>{i.value=!1,t.value=a.question.type==="multiple"?[]:""},{immediate:!0});const l=b(()=>a.question.answers.filter(e=>e.isCorrect).map(e=>e.text)),d=b(()=>(a.question.type==="multiple",t.value.length>0)),y=b(()=>{const e=Array.isArray(t.value)?t.value:[t.value];return e.length===l.value.length&&e.every(u=>l.value.includes(u))}),w=()=>{i.value=!0,m("answered",y.value)},q=e=>i.value?e.isCorrect?"bg-green-100 border border-green-400 text-green-800":(Array.isArray(t.value)?t.value.includes(e.text):t.value===e.text)?"bg-red-100 border border-red-400 text-red-800":"opacity-50":"hover:bg-gray-100";return(e,u)=>(s(),o("div",L,[e.question?(s(),o("div",V,[r("h2",j,x(e.question.question),1),r("form",{class:"space-y-2",onSubmit:$(w,["prevent"])},[(s(!0),o(z,null,A(e.question.answers,(c,p)=>(s(),o("div",{key:p,class:S(["flex items-start space-x-2 p-2 rounded-lg transition-all duration-150",q(c)])},[N(r("input",{id:`answer-${e.question.id}-${p}`,type:e.question.type==="multiple"?"checkbox":"radio",name:"answer-"+e.question.id,value:c.text,"onUpdate:modelValue":u[0]||(u[0]=k=>t.value=k),disabled:i.value,class:"mt-1"},null,8,I),[[B,t.value]]),r("label",{class:"text-gray-800 cursor-pointer",for:`answer-${e.question.id}-${p}`},x(c.text),9,P)],2))),128)),r("div",R,[r("button",{type:"submit",disabled:i.value||!d.value,class:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 disabled:bg-blue-300"}," Submit ",8,E),r("button",{type:"button",onClick:u[1]||(u[1]=c=>e.$emit("next")),disabled:!i.value,class:"px-4 py-2 rounded bg-gray-500 text-white hover:bg-gray-600 disabled:bg-gray-200"}," Next Question ",8,H)])],32),i.value?(s(),o("div",J,[y.value?(s(),o("span",K,"✅ Correct!")):(s(),o("span",O,"❌ Your answer is not quite right"))])):Q("",!0)])):(s(),o("div",U,"Loading Questions..."))]))}}),G={class:"min-h-screen flex flex-col items-center justify-center bg-white text-gray-800"},T={class:"p-6 w-full"},W={key:1,class:"mx-auto flex flex-col items-center justify-center"},ee=_({__name:"quiz",setup(g){const n=F();M(()=>{n.resetQuiz()});const a=l=>{n.answerQuestion(l)},m=()=>{n.isFinished?f().push("/result"):n.nextQuestion()},i=f(),t=()=>{n.resetQuiz(),i.push("/")};return(l,d)=>(s(),o("div",G,[r("div",T,[v(n).currentQuestion?(s(),D(Y,{key:v(n).currentIndex,question:v(n).currentQuestion,onAnswered:a,onNext:m},null,8,["question"])):(s(),o("div",W,[d[0]||(d[0]=r("div",{class:"text-center"},"Something went wrong, Please start again",-1)),r("button",{onClick:t,class:"mt-4 px-6 py-3 bg-blue-600 text-white text-lg rounded-lg hover:bg-blue-700 transition"}," Back to Home ")]))])]))}});export{ee as default};
