var Q=Object.defineProperty;var $=(t,e,n)=>e in t?Q(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var P=(t,e,n)=>$(t,typeof e!="symbol"?e+"":e,n);import{U as H,k as j,V as g,a as G,W as w,X as x,Y as W,Z as X,G as Y,I as F,$ as q,r as M,a0 as T,a1 as Z,a2 as J,Q as K,a3 as A,a4 as I,a5 as k,a6 as ee,a7 as ae}from"./CGGpidUN.js";const te={trailing:!0};function se(t,e=25,n={}){if(n={...te,...n},!Number.isFinite(e))throw new TypeError("Expected `wait` to be a finite number");let a,s,r=[],i,f;const l=(y,c)=>(i=ne(t,y,c),i.finally(()=>{if(i=null,n.trailing&&f&&!s){const m=l(y,f);return f=null,m}}),i);return function(...y){return i?(n.trailing&&(f=y),i):new Promise(c=>{const m=!s&&n.leading;clearTimeout(s),s=setTimeout(()=>{s=null;const u=n.leading?a:l(this,y);for(const v of r)v(u);r=[]},e),m?(a=l(this,y),c(a)):r.push(c)})}}async function ne(t,e,n){return await t.apply(e,n)}const re=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],ie=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",O=[];class oe{constructor(){P(this,"_data",new S);P(this,"_hash",new S([...re]));P(this,"_nDataBytes",0);P(this,"_minBufferSize",0)}finalize(e){e&&this._append(e);const n=this._nDataBytes*8,a=this._data.sigBytes*8;return this._data.words[a>>>5]|=128<<24-a%32,this._data.words[(a+64>>>9<<4)+14]=Math.floor(n/4294967296),this._data.words[(a+64>>>9<<4)+15]=n,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}_doProcessBlock(e,n){const a=this._hash.words;let s=a[0],r=a[1],i=a[2],f=a[3],l=a[4],y=a[5],c=a[6],m=a[7];for(let u=0;u<64;u++){if(u<16)O[u]=e[n+u]|0;else{const h=O[u-15],d=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,b=O[u-2],D=(b<<15|b>>>17)^(b<<13|b>>>19)^b>>>10;O[u]=d+O[u-7]+D+O[u-16]}const v=l&y^~l&c,o=s&r^s&i^r&i,_=(s<<30|s>>>2)^(s<<19|s>>>13)^(s<<10|s>>>22),B=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),p=m+B+v+ie[u]+O[u],C=_+o;m=c,c=y,y=l,l=f+p|0,f=i,i=r,r=s,s=p+C|0}a[0]=a[0]+s|0,a[1]=a[1]+r|0,a[2]=a[2]+i|0,a[3]=a[3]+f|0,a[4]=a[4]+l|0,a[5]=a[5]+y|0,a[6]=a[6]+c|0,a[7]=a[7]+m|0}_append(e){typeof e=="string"&&(e=S.fromUtf8(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_process(e){let n,a=this._data.sigBytes/64;e?a=Math.ceil(a):a=Math.max((a|0)-this._minBufferSize,0);const s=a*16,r=Math.min(s*4,this._data.sigBytes);if(s){for(let i=0;i<s;i+=16)this._doProcessBlock(this._data.words,i);n=this._data.words.splice(0,s),this._data.sigBytes-=r}return new S(n,r)}}class S{constructor(e,n){P(this,"words");P(this,"sigBytes");e=this.words=e||[],this.sigBytes=n===void 0?e.length*4:n}static fromUtf8(e){const n=unescape(encodeURIComponent(e)),a=n.length,s=[];for(let r=0;r<a;r++)s[r>>>2]|=(n.charCodeAt(r)&255)<<24-r%4*8;return new S(s,a)}toBase64(){const e=[];for(let n=0;n<this.sigBytes;n+=3){const a=this.words[n>>>2]>>>24-n%4*8&255,s=this.words[n+1>>>2]>>>24-(n+1)%4*8&255,r=this.words[n+2>>>2]>>>24-(n+2)%4*8&255,i=a<<16|s<<8|r;for(let f=0;f<4&&n*8+f*6<this.sigBytes*8;f++)e.push(ce.charAt(i>>>6*(3-f)&63))}return e.join("")}concat(e){if(this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4),this.sigBytes%4)for(let n=0;n<e.sigBytes;n++){const a=e.words[n>>>2]>>>24-n%4*8&255;this.words[this.sigBytes+n>>>2]|=a<<24-(this.sigBytes+n)%4*8}else for(let n=0;n<e.sigBytes;n+=4)this.words[this.sigBytes+n>>>2]=e.words[n>>>2];this.sigBytes+=e.sigBytes}}function ue(t){return new oe().finalize(t).toBase64()}function R(t){return ue(H(t))}const le=Symbol.for("nuxt:client-only"),fe=t=>t==="defer"||t===!1;function de(...t){var v;const e=typeof t[t.length-1]=="string"?t.pop():void 0;typeof t[0]!="string"&&typeof t[0]!="object"&&!(typeof t[0]=="function"&&typeof t[1]=="function")&&t.unshift(e);let[n,a,s={}]=t;const r=j(()=>g(n));if(typeof r.value!="string")throw new TypeError("[nuxt] [useAsyncData] key must be a string.");if(typeof a!="function")throw new TypeError("[nuxt] [useAsyncData] handler must be a function.");const i=G();s.server??(s.server=!0),s.default??(s.default=ye),s.getCachedData??(s.getCachedData=N),s.lazy??(s.lazy=!1),s.immediate??(s.immediate=!0),s.deep??(s.deep=w.deep),s.dedupe??(s.dedupe="cancel"),s._functionName,i._asyncData[r.value];const f=s.getCachedData(r.value,i,{cause:"initial"});(v=i._asyncData[r.value])!=null&&v._init||(i._asyncData[r.value]=V(i,r.value,a,s,f));const l=i._asyncData[r.value];l._deps++;const y=()=>i._asyncData[r.value].execute({cause:"initial",dedupe:s.dedupe}),c=s.server!==!1&&i.payload.serverRendered;{let o=function(h){const d=i._asyncData[h];d!=null&&d._deps&&(d._deps--,d._deps===0&&(d==null||d._off()))};const _=x();if(_&&c&&s.immediate&&!_.sp&&(_.sp=[]),_&&!_._nuxtOnBeforeMountCbs){_._nuxtOnBeforeMountCbs=[];const h=_._nuxtOnBeforeMountCbs;W(()=>{h.forEach(d=>{d()}),h.splice(0,h.length)}),X(()=>h.splice(0,h.length))}const B=_&&(_._nuxtClientOnly||Y(le,!1));c&&i.isHydrating&&(l.error.value||f!=null)?(l.pending.value=!1,l.status.value=l.error.value?"error":"success"):_&&!B&&(i.payload.serverRendered&&i.isHydrating||s.lazy)&&s.immediate?_._nuxtOnBeforeMountCbs.push(y):s.immediate&&y();const p=A();if(s.watch){const h=F(s.watch,()=>{l._execute({cause:"watch",dedupe:s.dedupe})},{flush:"post"});p&&q(()=>h())}const C=F(r,(h,d)=>{var D,E;const b=((D=i._asyncData[d])==null?void 0:D.data.value)!==w.value;d&&o(d),(E=i._asyncData[h])!=null&&E._init||(i._asyncData[h]=V(i,h,a,s,s.getCachedData(h,i,{cause:"initial"}))),i._asyncData[h]._deps++,(s.immediate||b)&&i._asyncData[h].execute({cause:"initial",dedupe:s.dedupe})},{flush:"sync"});p&&q(()=>{C(),o(r.value)})}const m={data:z(()=>{var o;return(o=i._asyncData[r.value])==null?void 0:o.data}),pending:z(()=>{var o;return(o=i._asyncData[r.value])==null?void 0:o.pending}),status:z(()=>{var o;return(o=i._asyncData[r.value])==null?void 0:o.status}),error:z(()=>{var o;return(o=i._asyncData[r.value])==null?void 0:o.error}),refresh:(...o)=>i._asyncData[r.value].execute(...o),execute:(...o)=>i._asyncData[r.value].execute(...o),clear:()=>L(i,r.value)},u=Promise.resolve(i._asyncDataPromises[r.value]).then(()=>m);return Object.assign(u,m),u}function z(t){return j({get(){var e;return(e=t())==null?void 0:e.value},set(e){const n=t();n&&(n.value=e)}})}function L(t,e){e in t.payload.data&&(t.payload.data[e]=void 0),e in t.payload._errors&&(t.payload._errors[e]=w.errorValue),t._asyncData[e]&&(t._asyncData[e].data.value=void 0,t._asyncData[e].error.value=w.errorValue,t._asyncData[e].pending.value=!1,t._asyncData[e].status.value="idle"),e in t._asyncDataPromises&&(t._asyncDataPromises[e]&&(t._asyncDataPromises[e].cancelled=!0),t._asyncDataPromises[e]=void 0)}function he(t,e){const n={};for(const a of e)n[a]=t[a];return n}function V(t,e,n,a,s){var m;(m=t.payload._errors)[e]??(m[e]=w.errorValue);const r=a.getCachedData!==N,i=n,f=a.deep?M:T,l=s!=null,y=t.hook("app:data:refresh",async u=>{(!u||u.includes(e))&&await c.execute({cause:"refresh:hook"})}),c={data:f(l?s:a.default()),pending:T(!l),error:Z(t.payload._errors,e),status:T("idle"),execute:(u={})=>{if(t._asyncDataPromises[e]){if(fe(u.dedupe??a.dedupe))return t._asyncDataPromises[e];t._asyncDataPromises[e].cancelled=!0}if(u.cause==="initial"||t.isHydrating){const o=u.cause==="initial"?s:a.getCachedData(e,t,{cause:u.cause??"refresh:manual"});if(o!=null)return t.payload.data[e]=c.data.value=o,c.error.value=w.errorValue,c.status.value="success",Promise.resolve(o)}c.pending.value=!0,c.status.value="pending";const v=new Promise((o,_)=>{try{o(i(t))}catch(B){_(B)}}).then(async o=>{if(v.cancelled)return t._asyncDataPromises[e];let _=o;a.transform&&(_=await a.transform(o)),a.pick&&(_=he(_,a.pick)),t.payload.data[e]=_,c.data.value=_,c.error.value=w.errorValue,c.status.value="success"}).catch(o=>{if(v.cancelled)return t._asyncDataPromises[e];c.error.value=J(o),c.data.value=K(a.default()),c.status.value="error"}).finally(()=>{v.cancelled||(c.pending.value=!1,delete t._asyncDataPromises[e])});return t._asyncDataPromises[e]=v,t._asyncDataPromises[e]},_execute:se((...u)=>c.execute(...u),0,{leading:!0}),_default:a.default,_deps:0,_init:!0,_hash:void 0,_off:()=>{y(),c._init=!1,r||(L(t,e),c.execute=()=>Promise.resolve(),c.data.value=w.value)}};return c}const ye=()=>w.value,N=(t,e,n)=>{if(e.isHydrating)return e.payload.data[t];if(n.cause!=="refresh:manual"&&n.cause!=="refresh:hook")return e.static.data[t]};function _e(t,e,n){const[a={},s]=[{},e],r=j(()=>g(t)),i=j(()=>g(a.key)||"$f"+R([s,typeof r.value=="string"?r.value:"",...me(a)]));if(!a.baseURL&&typeof r.value=="string"&&r.value[0]==="/"&&r.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:f,lazy:l,default:y,transform:c,pick:m,watch:u,immediate:v,getCachedData:o,deep:_,dedupe:B,...p}=a,C=I({...k,...p,cache:typeof a.cache=="boolean"?void 0:a.cache}),h={server:f,lazy:l,default:y,transform:c,pick:m,immediate:v,getCachedData:o,deep:_,dedupe:B,watch:u===!1?[]:[...u||[],C]};if(!v){let D=function(){h.immediate=!0};F(i,D,{flush:"sync",once:!0}),F([...u||[],C],D,{flush:"sync",once:!0})}let d;return de(u===!1?i.value:i,()=>{var U;(U=d==null?void 0:d.abort)==null||U.call(d,new DOMException("Request aborted as another request to the same endpoint was initiated.","AbortError")),d=typeof AbortController<"u"?new AbortController:{};const D=g(a.timeout);let E;return D&&(E=setTimeout(()=>d.abort(new DOMException("Request aborted due to timeout.","AbortError")),D),d.signal.onabort=()=>clearTimeout(E)),(a.$fetch||globalThis.$fetch)(r.value,{signal:d.signal,...C}).finally(()=>{clearTimeout(E)})},h)}function me(t){var n;const e=[((n=g(t.method))==null?void 0:n.toUpperCase())||"GET",g(t.baseURL)];for(const a of[t.params||t.query]){const s=g(a);if(!s)continue;const r={};for(const[i,f]of Object.entries(s))r[g(i)]=g(f);e.push(r)}if(t.body){const a=g(t.body);if(!a)e.push(R(a));else if(a instanceof ArrayBuffer)e.push(R(Object.fromEntries([...new Uint8Array(a).entries()].map(([s,r])=>[s,r.toString()]))));else if(a instanceof FormData){const s={};for(const r of a.entries()){const[i,f]=r;s[i]=f instanceof File?f.name:f}e.push(R(s))}else if(ee(a))e.push(R(I(a)));else try{e.push(R(a))}catch{console.warn("[useFetch] Failed to hash body",a)}}return e}function ve(t){return{...t,answers:[...t.answers].sort(()=>Math.random()-.5)}}const be=ae("quiz",()=>{const t=M([]),e=M(0),n=M(0),a=M([]),s=j(()=>t.value[e.value]),r=j(()=>e.value>=t.value.length-1);function i(y){a.value[e.value]=y,y&&n.value++}function f(){r.value||e.value++}async function l(){{const{data:y}=await _e("/nuxt-quiz/questions.json","$nT6k2jyHll");y.value?(t.value=y.value.map(c=>ve({...c,type:c.type})),e.value=0,n.value=0,a.value=[]):console.error("❌ Failed to load questions.")}}return{questions:t,currentQuestion:s,currentIndex:e,score:n,answersGiven:a,isFinished:r,answerQuestion:i,nextQuestion:f,resetQuiz:l}},{persist:!0});export{be as u};
