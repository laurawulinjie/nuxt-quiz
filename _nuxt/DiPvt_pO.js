import{d as f,r as x,I as Q,k as g,v as r,x as o,y as n,J as $,z as c,K as C,L as S,M as z,N as A,O as L,P as B,o as N,u as _,Q as l,R as M,S as F}from"./CGGpidUN.js";import{u as I}from"./BhGKTVqb.js";const V={class:"max-w-xl mx-auto bg-white rounded-2xl shadow-lg p-6 space-y-4"},D={key:0},P={class:"text-xl font-semibold text-gray-800 mb-2"},j=["id","type","name","value","disabled"],R=["for"],E={class:"flex flex-wrap gap-3 pt-4"},H=["disabled"],J=["disabled"],K={key:0,class:"text-sm text-gray-600 mt-2"},O={key:0},U={key:1},Y={key:1},G=f({__name:"QuizCard",props:{question:{},isLastQuestion:{type:Boolean}},emits:["answered","next"],setup(y,{emit:t}){const a=y,v=t,i=x(!1),s=x(a.question.type==="multiple"?[]:"");Q(()=>a.question,()=>{i.value=!1,s.value=a.question.type==="multiple"?[]:""},{immediate:!0});const m=g(()=>a.question.answers.filter(e=>e.isCorrect).map(e=>e.text)),p=g(()=>(a.question.type==="multiple",s.value.length>0)),d=g(()=>{const e=Array.isArray(s.value)?s.value:[s.value];return e.length===m.value.length&&e.every(u=>m.value.includes(u))}),w=()=>{i.value=!0,v("answered",d.value)},q=e=>i.value?e.isCorrect?"bg-green-100 border border-green-400 text-green-800":(Array.isArray(s.value)?s.value.includes(e.text):s.value===e.text)?"bg-red-100 border border-red-400 text-red-800":"opacity-50":"hover:bg-gray-100";return(e,u)=>(o(),r("div",V,[e.question?(o(),r("div",D,[n("h2",P,c(e.question.question),1),n("form",{class:"space-y-2",onSubmit:C(w,["prevent"])},[(o(!0),r(S,null,z(e.question.answers,(b,h)=>(o(),r("div",{key:h,class:A(["flex items-start space-x-2 p-2 rounded-lg transition-all duration-150",q(b)])},[L(n("input",{id:`answer-${e.question.id}-${h}`,type:e.question.type==="multiple"?"checkbox":"radio",name:"answer-"+e.question.id,value:b.text,"onUpdate:modelValue":u[0]||(u[0]=k=>s.value=k),disabled:i.value,class:"mt-1"},null,8,j),[[B,s.value]]),n("label",{class:"text-gray-800 cursor-pointer",for:`answer-${e.question.id}-${h}`},c(b.text),9,R)],2))),128)),n("div",E,[n("button",{type:"submit",disabled:i.value||!p.value,class:"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 disabled:bg-blue-300"}," Submit ",8,H),n("button",{type:"button",onClick:u[1]||(u[1]=b=>e.$emit("next")),disabled:!i.value,class:"px-4 py-2 rounded bg-gray-500 text-white hover:bg-gray-600 disabled:bg-gray-200"},c(a.isLastQuestion?"View Score":"Next Question"),9,J)])],32),i.value?(o(),r("div",K,[d.value?(o(),r("span",O,"✅ Correct!")):(o(),r("span",U,"❌ Your answer is not quite right"))])):$("",!0)])):(o(),r("div",Y,"Loading Questions..."))]))}}),T={class:"min-h-screen flex flex-col items-center justify-center bg-white text-gray-800"},W={class:"p-6 w-full"},X={key:0},Z={class:"max-w-xl mx-auto bg-gray-200 rounded-full h-4 mb-6"},ee={class:"text-sm text-center text-gray-600 mb-4"},te={key:1,class:"mx-auto flex flex-col items-center justify-center"},oe=f({__name:"quiz",setup(y){const t=I();N(()=>{t.resetQuiz()});const a=p=>{t.answerQuestion(p)},v=()=>{t.isFinished?_().push("/result"):t.nextQuestion()},i=_(),s=()=>{t.resetQuiz(),i.push("/")},m=g(()=>t.questions.length?Math.round((t.currentIndex+1)/t.questions.length*100):0);return(p,d)=>(o(),r("div",T,[n("div",W,[l(t).currentQuestion?(o(),r("div",X,[n("div",Z,[n("div",{class:"bg-blue-600 h-4 rounded-full transition-all duration-300",style:F({width:l(m)+"%"})},null,4)]),n("div",ee," Question "+c(l(t).currentIndex+1)+" of "+c(l(t).questions.length),1),(o(),M(G,{key:l(t).currentIndex,question:l(t).currentQuestion,isLastQuestion:l(t).isFinished,onAnswered:a,onNext:v},null,8,["question","isLastQuestion"]))])):(o(),r("div",te,[d[0]||(d[0]=n("div",{class:"text-center"},"Something went wrong, Please start again",-1)),n("button",{onClick:s,class:"mt-4 px-6 py-3 bg-blue-600 text-white text-lg rounded-lg hover:bg-blue-700 transition"}," Back to Home ")]))])]))}});export{oe as default};
